(this["webpackJsonpreact-website-trs"]=this["webpackJsonpreact-website-trs"]||[]).push([[0],{2:function(e,t,a){e.exports={formBlock:"style_formBlock__25UQ1",formTitle:"style_formTitle__3op9n",formGroup:"style_formGroup__Dvo20",formControl:"style_formControl__2Imu2",bottomButtons:"style_bottomButtons__1yS_H",sendButton:"style_sendButton__2bF_L"}},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(17),i=a.n(n),r=(a(37),a(9)),c=a(3),o=a(22),l=(a(38),a(39),a(0)),d=["btn--primary","btn--outline"],h=["btn--medium","btn--large"],j=function(e){var t=e.children,a=e.type,s=e.onClick,n=e.buttonStyle,i=e.buttonSize,c=d.includes(n)?n:d[0],o=h.includes(i)?i:h[0];return Object(l.jsx)(r.b,{to:"/sign-in",className:"btn-mobile",children:Object(l.jsx)("button",{className:"btn ".concat(c," ").concat(o),onClick:s,type:a,children:t})})};var m=function(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],i=Object(s.useState)(!0),c=Object(o.a)(i,2),d=c[0],h=c[1],m=function(){return n(!1)},b=function(){window.innerWidth<=960?h(!1):h(!0)};return Object(s.useEffect)((function(){b()}),[]),window.addEventListener("resize",b),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("nav",{className:"navbar",children:Object(l.jsxs)("div",{className:"navbar-container",children:[Object(l.jsxs)(r.b,{to:"/",className:"navbar-logo",onClick:m,children:[Object(l.jsx)("pre",{children:"TRANSSTORE "}),Object(l.jsx)("i",{className:"fas fa-money-check-alt"})]}),Object(l.jsx)("div",{className:"menu-icon",onClick:function(){return n(!a)},children:Object(l.jsx)("i",{className:a?"fas fa-times":"fas fa-bars"})}),Object(l.jsxs)("ul",{className:a?"nav-menu active":"nav-menu",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(r.b,{to:"/",className:"nav-links",onClick:m,children:"Account"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(r.b,{to:"/s_dnem_rogdeniya_rostik",className:"nav-links",onClick:m,children:"Rostik"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(r.b,{to:"/products",className:"nav-links",onClick:m,children:"Stock"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(r.b,{to:"/sign-in",className:"nav-links-mobile",onClick:m,children:"Sign In"})})]}),d&&Object(l.jsx)(j,{buttonStyle:"btn--outline",onClick:!0,children:"SIGN IN"})]})})})},b=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(m,{})})},u=a(5),p=a(6),O=a(8),f=a(7),x=a(15),v=a.n(x),g="https://crmlite-transaction-store.azurewebsites.net",N="https://crmlite-leads-service.azurewebsites.net",y=function(e,t){return v()({method:"post",baseURL:g,url:"/api/TFA",params:{pin:e,leadID:t},headers:{"Content-Type":"application/json"}})},C=a(2),k=a.n(C),S=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={fields:{},errors:{},redirect:!1},e}return Object(p.a)(a,[{key:"submitForm",value:function(e){var t=this;if(e.preventDefault(),this.handleValidation()){var a=new FormData(e.target),s={};a.forEach((function(e,t){return s[t]=e}));var n,i=JSON.stringify(s);(n=i,v()({method:"post",baseURL:N,url:"/api/Auth/login",headers:{"Content-Type":"application/json"},data:n})).then((function(e){sessionStorage.setItem("leadid",e.data.leadID),sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("isLogged","true")})).then((function(){return t.setState({redirect:!0})}))}}},{key:"handleValidation",value:function(){var e=this.state.fields,t={},a=!0;if(e.email||(a=!1,t.email="Cannot be empty"),"undefined"!==typeof e.email){var s=e.email.lastIndexOf("@"),n=e.email.lastIndexOf(".");s<n&&s>0&&-1===e.email.indexOf("@@")&&n>2&&e.email.length-n>2||(a=!1,t.email="Email is not valid")}return e.password||(a=!1,t.password="Cannot be empty"),this.setState({errors:t}),a}},{key:"handleChange",value:function(e,t){var a=this.state.fields;a[e]=t.target.value,this.setState({fields:a})}},{key:"render",value:function(){return this.state.redirect?Object(l.jsx)(c.a,{to:"/"}):Object(l.jsxs)("div",{className:k.a.formBlock,children:[Object(l.jsx)("h2",{className:k.a.formTitle,children:"Login form"}),Object(l.jsxs)("form",{onSubmit:this.submitForm.bind(this),children:[Object(l.jsx)("div",{className:k.a.formGroup,children:Object(l.jsx)("input",{id:"email",name:"email",type:"email",placeholder:"E-mail",className:k.a.formControl,onChange:this.handleChange.bind(this,"email"),value:this.state.fields.email})}),Object(l.jsx)("div",{className:k.a.formGroup,children:Object(l.jsx)("input",{id:"password",name:"password",type:"password",placeholder:"Password",className:k.a.formControl,onChange:this.handleChange.bind(this,"password"),value:this.state.fields.password})}),Object(l.jsxs)("div",{className:k.a.bottomButtons,children:[Object(l.jsx)("button",{type:"submit",className:"btn "+k.a.sendButton,children:"Sign in"}),Object(l.jsx)(r.b,{to:"/register",children:Object(l.jsx)("button",{className:"btn "+k.a.sendButton,children:"Sign up"})})]})]})]})}}]),a}(s.Component),w=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).state={fields:{},errors:{},redirect:!1,message:""},s}return Object(p.a)(a,[{key:"submitForm",value:function(e){var t=this;if(e.preventDefault(),this.handleValidation()){var a=new FormData(e.target),s={};a.forEach((function(e,t){return s[t]=e}));var n,i=JSON.stringify(s);(n=i,v()({method:"post",baseURL:N,url:"/api/Auth/registration",headers:{"Content-Type":"application/json"},data:n})).then((function(e){t.setState({message:e.data.message}),setTimeout((function(){return t.setState({redirect:e.data.isConfirmed})}),5e3)}))}}},{key:"handleValidation",value:function(){var e=this.state.fields,t=this.state.errors,a=!0;if(e.firstName||(a=!1,t.firstName="Cannot be empty"),"undefined"!==typeof e.firstName&&(e.firstName.match(/^[a-zA-Z]+$/)||(a=!1,t.firstName="Only letters")),e.lastName||(a=!1,t.lastName="Cannot be empty"),"undefined"!==typeof e.lastName&&(e.lastName.match(/^[a-zA-Z]+$/)||(a=!1,t.lastName="Only letters")),e.email||(a=!1,t.email="Cannot be empty"),"undefined"!==typeof e.email){var s=e.email.lastIndexOf("@"),n=e.email.lastIndexOf(".");s<n&&s>0&&-1===e.email.indexOf("@@")&&n>2&&e.email.length-n>2||(a=!1,t.email="Email is not valid")}return e.password||(a=!1,t.password="Cannot be empty"),e.passportNumber||(a=!1,t.passportNumber="Cannot be empty"),e.tin||(a=!1,t.tin="Cannot be empty"),this.setState({errors:t}),a}},{key:"handleChange",value:function(e,t){this.state.fields[e]=t.target.value}},{key:"render",value:function(){return this.state.redirect?Object(l.jsx)(c.a,{to:"/sign-in"}):Object(l.jsxs)("div",{className:k.a.formBlock,children:[Object(l.jsx)("h2",{className:k.a.formTitle,children:"Registration form"}),Object(l.jsxs)("form",{onSubmit:this.submitForm.bind(this),children:[Object(l.jsxs)("div",{className:k.a.formGroup,children:[Object(l.jsx)("input",{placeholder:"Firstname",name:"firstName",type:"text",className:k.a.formControl,onChange:this.handleChange.bind(this,"firstName"),value:this.state.fields.firstName}),Object(l.jsx)("span",{style:{color:"red"},children:this.state.errors.firstName})]}),Object(l.jsxs)("div",{className:k.a.formGroup,children:[Object(l.jsx)("input",{placeholder:"Lasttname",name:"lastName",type:"text",className:k.a.formControl,onChange:this.handleChange.bind(this,"lastName"),value:this.state.fields.lastName}),Object(l.jsx)("span",{style:{color:"red"},children:this.state.errors.lastName})]}),Object(l.jsxs)("div",{className:k.a.formGroup,children:[Object(l.jsx)("input",{placeholder:"E-mail",name:"email",type:"email",className:k.a.formControl,onChange:this.handleChange.bind(this,"email"),value:this.state.fields.email}),Object(l.jsx)("span",{style:{color:"red"},children:this.state.errors.email})]}),Object(l.jsxs)("div",{className:k.a.formGroup,children:[Object(l.jsx)("input",{placeholder:"Password",name:"password",type:"password",className:k.a.formControl,onChange:this.handleChange.bind(this,"password"),value:this.state.fields.password}),Object(l.jsx)("span",{style:{color:"red"},children:this.state.errors.password})]}),Object(l.jsxs)("div",{className:k.a.formGroup,children:[Object(l.jsx)("input",{placeholder:"Pasport number",name:"passportNumber",type:"text",className:k.a.formControl,onChange:this.handleChange.bind(this,"passportNumber"),value:this.state.fields.passportNumber}),Object(l.jsx)("span",{style:{color:"red"},children:this.state.errors.passportNumber})]}),Object(l.jsxs)("div",{className:k.a.formGroup,children:[Object(l.jsx)("input",{placeholder:"Tin",name:"tin",type:"text",className:k.a.formControl,onChange:this.handleChange.bind(this,"tin"),value:this.state.fields.tin}),Object(l.jsx)("span",{style:{color:"red"},children:this.state.errors.tin})]}),Object(l.jsx)("div",{className:k.a.bottomButtons,children:Object(l.jsx)("button",{type:"submit",className:"btn "+k.a.sendButton,children:"Send"})})]}),Object(l.jsx)("div",{children:this.state.message})]})}}]),a}(s.Component),I=(a(64),a.p+"static/media/usericon.7ffcf71e.png"),_=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).el=document.createElement("div"),e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){var e=this.props.children;return i.a.createPortal(e,this.el)}}]),a}(s.Component),A=(a(65),function(e){var t=e.title,a=e.isOpen,s=(e.onCancel,e.onSubmit,e.children);return Object(l.jsx)(l.Fragment,{children:a&&Object(l.jsx)(_,{children:Object(l.jsx)("div",{className:"modalOverlay",children:Object(l.jsxs)("div",{className:"modalWindow",children:[Object(l.jsx)("div",{className:"modalHeader",children:Object(l.jsx)("div",{className:"modalTitle",children:t})}),Object(l.jsx)("div",{className:"modalBody",children:s}),Object(l.jsx)("div",{className:"modalFooter"})]})})})})});A.defaultProps={title:"Modal title",isOpen:!1,onCancel:function(){},onSubmit:function(){},children:null};var T=A,D=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={leadID:"1a0359d8-6618-4f94-be03-a9589bc1b43d",qrCodeBase64:"",stringKey:""},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.state.leadID,v()({method:"get",baseURL:g,url:"/api/TFA/model",params:{leadID:e},headers:{"Content-Type":"application/json"}})).then((function(e){t.setState({qrCodeBase64:e.data.qrCodeBase64}),t.setState({stringKey:e.data.manualEntryKey})}))}},{key:"render",value:function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{src:"data:image/png;base64,".concat(this.state.qrCodeBase64),width:"200px",height:"200px"}),Object(l.jsx)("input",{readOnly:"true",name:"Name",id:"name",type:"text",value:this.state.stringKey})]})}}]),a}(s.Component),B=(a(66),function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={leadID:"1a0359d8-6618-4f94-be03-a9589bc1b43d",isOpen:!1,isConnectTFA:!1,inputValue:""},e.openModal=function(){e.setState({isOpen:!0})},e.handleConfirmPin=function(t){t.preventDefault();var a=new FormData(t.target),s={};a.forEach((function(e,t){return s[t]=e})),y(s.Input_Pin,e.state.leadID).then((function(t){e.setState({isConnectTFA:t.data}),e.state.isConnectTFA&&e.setState({isOpen:!1})}))},e.updateInputValue=function(t){e.setState({inputValue:t.target.value})},e}return Object(p.a)(a,[{key:"render",value:function(){return Object(l.jsxs)(s.Fragment,{children:[Object(l.jsx)("button",{onClick:this.openModal,children:"GoogleTFA"}),Object(l.jsx)(T,{isOpen:this.state.isOpen,children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("p",{children:"Setup Google Authenticator"}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col",children:Object(l.jsx)("div",{class:"align-self-center",children:Object(l.jsxs)("p",{children:[" ","Get the authenticator app from the Google Play Store (Android) or ITunes App Store (IOS)"]})})}),Object(l.jsx)("div",{className:"col",children:Object(l.jsx)("div",{class:"align-self-center",children:Object(l.jsx)("p",{children:"Choose scan a barcode"})})}),Object(l.jsx)("div",{className:"col",children:Object(l.jsx)("p",{children:"Set up authenticator. Enter the six-digit code that you see in the app."})})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col",children:Object(l.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/Google_Authenticator_for_Android_icon.svg/2048px-Google_Authenticator_for_Android_icon.svg.png",height:"200"})}),Object(l.jsx)("div",{className:"col",children:Object(l.jsx)(D,{leadID:this.state.leadID})}),Object(l.jsx)("div",{className:"col",children:Object(l.jsxs)("form",{onSubmit:this.handleConfirmPin,children:[Object(l.jsx)("input",{name:"Input_Pin",id:"pin",type:"text",pattern:"[0-9]{6}",maxLength:"6",required:!0,placeholder:"Enter code"}),Object(l.jsx)("button",{type:"submit",children:"Send"})]})})]}),Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col",children:[Object(l.jsx)("a",{href:"https://apps.apple.com/us/app/google-authenticator/id388497605",target:"_blank",children:Object(l.jsx)("button",{className:"btn border border-primary",children:"App Store"})}),Object(l.jsx)("a",{href:"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl=uk&gl=US",target:"_blank",children:Object(l.jsx)("button",{className:"btn border border-primary",children:"Play Market"})})]})})]})})]})}}]),a}(s.Component)),F=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.user,t=this.props.totalbalance;return Object(l.jsxs)("div",{className:"container userinfo",children:[Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col"}),Object(l.jsx)("div",{className:"col",children:Object(l.jsx)("img",{src:I,width:"80%",height:"80%",alt:"user"})}),Object(l.jsxs)("div",{className:"col",children:[Object(l.jsxs)("p",{className:"userName",children:[e.firstName," ",e.lastName]}),Object(l.jsxs)("p",{className:"passport",children:["Passport : ",e.passportNumber]}),Object(l.jsxs)("p",{className:"passport",children:["TIN : ",e.tin]}),Object(l.jsxs)("p",{className:"passport",children:["E-mail : ",e.email]}),Object(l.jsxs)("p",{className:"passport",children:["Total Balance : ",t," USD"]})]}),Object(l.jsx)("div",{className:"col",children:Object(l.jsx)("i",{children:"TODO edit options"})})]}),Object(l.jsx)("div",{children:Object(l.jsx)(B,{})})]})}}]),a}(s.Component),E=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={walletUSD:[],user:{},totalbalance:80,walletSystem:"d02472d3-27ba-4f12-9761-a8217a8035bf",token:sessionStorage.getItem("token"),leadID:sessionStorage.getItem("leadid")},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e,t,a=this;(e=this.state.leadID,t=this.state.token,v()({method:"get",baseURL:N,url:"/api/lead/"+e,headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}})).then((function(e){var t=e.data;a.setState({user:t})})).then(console.log(this.state))}},{key:"render",value:function(){return"true"===sessionStorage.getItem("isLogged")?Object(l.jsx)(F,{user:this.state.user,totalbalance:this.state.totalbalance}):Object(l.jsx)(c.a,{to:"/sign-in"})}}]),a}(s.Component),G=(a(67),a.p+"static/media/lesh.7ff5e89d.gif"),L=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).onButtonClickHandler=function(){e.setState({showImage:!0}),setTimeout(e.noClick,1e3)},e.noClick=function(){e.setState({showImage:!1})},e.state={showImage:!1},e}return Object(p.a)(a,[{key:"render",value:function(){return Object(l.jsxs)("div",{className:"rostik",children:[Object(l.jsx)("h1",{className:"ros-h1",children:"HAPPY BIRTHDAY!!!"}),Object(l.jsxs)("h2",{className:"ros-h2",children:["WE ",Object(l.jsx)("b",{children:"HATE"}),"LOVE YOU!"]}),this.state.showImage&&Object(l.jsx)("img",{className:"ros-prize",src:G}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{className:"ros",onClick:this.onButtonClickHandler,children:"\u041f\u041e\u041b\u0423\u0427\u0418\u0422\u042c \u041f\u041e\u0414\u0410\u0420\u041e\u041a"})]})}}]),a}(s.Component);var P=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(r.a,{children:[Object(l.jsx)(c.d,{}),Object(l.jsx)(b,{}),Object(l.jsx)(c.b,{path:"/",exact:!0,children:Object(l.jsx)(E,{})}),Object(l.jsx)(c.b,{path:"/sign-in",children:!0===sessionStorage.getItem("isLogged")?Object(l.jsx)(c.a,{to:"/",exact:!0}):Object(l.jsx)(S,{})}),Object(l.jsx)(c.b,{path:"/register",children:Object(l.jsx)(w,{})}),Object(l.jsx)(c.b,{path:"/s_dnem_rogdeniya_rostik",children:Object(l.jsx)(L,{})})]})})};i.a.render(Object(l.jsx)(P,{}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.e2613174.chunk.js.map